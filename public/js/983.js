"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[983],{5983:(t,e,s)=>{s.r(e),s.d(e,{default:()=>o});var a=s(9669),r=s.n(a);const i={name:"EditUser",props:{},data:function(){return{rootUrl:"https://encompass.fncci.org",errors:[],user:{name:"",email:"",phone:"",address:"",password:"",password_confirmation:"",role:"3",mobile:"",avatar:"",username:"",bio:"",website:"",user_type:"admin"}}},methods:{goBack:function(){this.$router.replace({path:"/admin/users"})},register:function(){var t=this,e=new FormData;for(var s in t.user)"avatar"!=s&&e.append(s,t.user[s]);e.append("avatar",t.user.avatar),e.append("_method","PUT"),$(".btn-submit").attr("disabled","disabled"),$(".btn-submit").html("Submitting..."),r().post("https://encompass.fncci.org/api/users/"+t.$route.params.id,e,{headers:{Authorization:"Bearer "+localStorage.getItem("api_token"),"Content-Type":"multipart/form-data"}}).then((function(e){$(".btn-submit").removeAttr("disabled"),$(".btn-submit").html("Submit"),e.data.errors&&(t.errors=e.data.errors),e.data.status&&"success"==e.data.status&&t.$router.push({path:"/admin/users"})})).catch((function(e){$(".btn-submit").removeAttr("disabled"),$(".btn-submit").html("Submit"),e.response&&e.response.data.errors&&(t.errors=e.response.data.errors)}))},handleUserImageUpload:function(t){this.user.avatar=t.target.files[0];var e=new FileReader;e.readAsDataURL(this.$refs.avatar.files[0]),e.onload=function(t){$("#imagePreview").css("background-image","url("+t.target.result+")"),$("#imagePreview").hide(),$("#imagePreview").fadeIn(650)}}},mounted:function(){var t=this;r().get("https://encompass.fncci.org/api/users/"+t.$route.params.id,{headers:{Authorization:"Bearer "+localStorage.getItem("api_token")}}).then((function(e){e.data.user&&(t.user=e.data.user,t.user.role=e.data.role,t.user.website="null"!=e.data.user.website?e.data.user.website:"",t.user.bio="null"!=e.data.user.bio?e.data.user.bio:"")})).catch((function(t){console.log(t.response)}))},watch:{}};const o=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-detail"},[t._m(0),t._v(" "),s("form",{attrs:{id:"register-user"},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[s("div",{staticClass:"row create"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row mb-3 align-items-center"},[t._m(1),t._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.first_name,expression:"user.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"first_name",name:"first_name",required:""},domProps:{value:t.user.first_name},on:{input:function(e){e.target.composing||t.$set(t.user,"first_name",e.target.value)}}}),t._v(" "),Object.keys(t.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.errors.first_name))])]):t._e()])]),t._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[t._m(2),t._v(" "),s("div",{staticClass:"col-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),Object.keys(t.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.errors.email))])]):t._e()])]),t._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[t._m(3),t._v(" "),s("div",{staticClass:"col-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.mobile,expression:"user.mobile"}],staticClass:"form-control",attrs:{type:"number",id:"mobile",name:"mobile",required:""},domProps:{value:t.user.mobile},on:{input:function(e){e.target.composing||t.$set(t.user,"mobile",e.target.value)}}}),t._v(" "),Object.keys(t.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.errors.mobile))])]):t._e()])]),t._v(" "),s("div",{staticClass:"row mb-3"},[t._m(4),t._v(" "),s("div",{staticClass:"col-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",name:"address",required:""},domProps:{value:t.user.address},on:{input:function(e){e.target.composing||t.$set(t.user,"address",e.target.value)}}}),t._v(" "),Object.keys(t.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.errors.address))])]):t._e()])]),t._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[t._m(5),t._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.website,expression:"user.website"}],staticClass:"form-control",attrs:{type:"text",id:"website",name:"website"},domProps:{value:t.user.website},on:{input:function(e){e.target.composing||t.$set(t.user,"website",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mb-3"},[t._m(6),t._v(" "),s("div",{staticClass:"col-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.bio,expression:"user.bio"}],staticClass:"form-control",attrs:{rows:"6",id:"bio",name:"bio"},domProps:{value:t.user.bio},on:{input:function(e){e.target.composing||t.$set(t.user,"bio",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[t._m(7),t._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"********",autocomplete:"off",id:"password",name:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),Object.keys(t.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.errors.password))])]):t._e()])]),t._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[t._m(8),t._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password",placeholder:"********",autocomplete:"off",id:"password_confirmation",name:"password_confirmation"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[t._m(9),t._v(" "),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.user_type,expression:"user.user_type"}],staticClass:"form-select",attrs:{"aria-label":"Select User Type",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.user,"user_type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:""}},[t._v("- Select User Type -")]),t._v(" "),s("option",{attrs:{value:"admin"}},[t._v("Admin")]),t._v(" "),s("option",{attrs:{value:"superadmin"}},[t._v("Super Admin")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 offset-3"},[s("button",{staticClass:"btn btn-primary btn-submit",attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.goBack}},[t._v("Back")])])])])])]),t._v(" "),s("div",{staticClass:"col-3"},[s("div",{staticClass:"card"},[t._m(10),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"avatar-upload"},[s("div",{staticClass:"avatar-edit"},[s("input",{ref:"avatar",attrs:{type:"file",id:"imageUpload",name:"avatar",accept:"image/x-png, image/gif, image/jpeg"},on:{change:t.handleUserImageUpload}}),t._v(" "),s("label",{attrs:{for:"imageUpload"}})]),t._v(" "),s("div",{staticClass:"avatar-preview"},[t.user.avatar?s("div",{style:"background-image: url('"+t.rootUrl+"/storage/"+t.user.avatar+"');",attrs:{id:"imagePreview"}}):t._e()])])])])])])])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-title-box"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",{staticClass:"page-title"},[t._v("Edit User")]),t._v(" "),s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"/admin/dashboard"}},[t._v("Dashboard")])]),t._v(" "),s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"javascript:void(0);"}},[t._v("User")])]),t._v(" "),s("li",{staticClass:"breadcrumb-item active"},[t._v("Edit")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"first_name"}},[t._v("Organization Name "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"mobile"}},[t._v("Mobile No. "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"address"}},[t._v("Address "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"website"}},[t._v("Website")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"bio"}},[t._v("Organization Bio")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"password_confirmation"}},[t._v("Confirm Password "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"role"}},[t._v("User Type "),s("span",{staticClass:"text-danger form-text"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header bg-default text-light"},[s("h2",[t._v("Organization Logo")])])}],!1,null,"345e270e",null).exports}}]);
//# sourceMappingURL=983.js.map