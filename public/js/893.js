"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[893],{9427:(s,r,e)=>{e.d(r,{Z:()=>i});var a=e(4015),o=e.n(a),t=e(3645),n=e.n(t)()(o());n.push([s.id,".invalid-feedback{display:block}.mt-10{margin-top:10px}.form-control{opacity:1!important}","",{version:3,sources:["webpack://./resources/js/components/admin/pages/PasswordResetToken.vue"],names:[],mappings:"AAgIA,kBAAA,aAAA,CACA,OAAA,eAAA,CACA,cACA,mBACA",sourcesContent:['<template>\r\n    <div class="container">\r\n        <div class="row justify-content-center">\r\n            <div class="col-md-8">\r\n                <div class="card">\r\n                    <div class="card-header">Reset Password</div>\r\n\r\n                    <div class="card-body">\r\n                        <template v-if="showErrorMessage || showSuccessMessage">\r\n                            <div class="alert" :class="showErrorMessage ? \'alert-danger\' : \'alert-success\'" role="alert" v-html="message"></div>\r\n                        </template>\r\n\r\n                        <form method="POST" @submit.prevent="resetPassword">\r\n                            <div class="form-group row">\r\n                                <label for="email" class="col-md-4 col-form-label text-md-right">E-Mail Address</label>\r\n\r\n                                <div class="col-md-6">\r\n                                    <input id="email" type="email" class="form-control" v-model="email" :class="(errors.length && errors.email.length) ? \'is-invalid\' : \'\'" name="email" required autocomplete="email" autofocus>\r\n                                    <span class="invalid-feedback" v-if="Object.keys(errors).length" role="alert">\r\n                                        <strong>{{ errors.email }}</strong>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="form-group row">\r\n                                <label for="password" class="col-md-4 col-form-label text-md-right">Password</label>\r\n\r\n                                <div class="col-md-6">\r\n                                    <input id="password" v-model="password" type="password" class="form-control" :class="(errors.length && errors.password.length) ? \'is-invalid\' : \'\'" name="password" required autocomplete="new-password">                                \r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="form-group row">\r\n                                <label for="password-confirm" class="col-md-4 col-form-label text-md-right">Confirm Password</label>\r\n\r\n                                <div class="col-md-6">\r\n                                    <input id="password-confirm" v-model="password_confirmation" type="password" class="form-control" name="password_confirmation" required autocomplete="new-password">\r\n                                    <span class="invalid-feedback" v-if="Object.keys(errors).length" role="alert">\r\n                                    <strong>{{ errors.password }}</strong>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="form-group row mb-0 mt-10">\r\n                                <div class="col-md-6 offset-md-4">\r\n                                    <button type="submit" class="btn btn-primary">Reset Password</button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from "axios";\r\n\r\nexport default {\r\n    name: \'PasswordResetToken\',\r\n    data() {\r\n        return {\r\n            token: this.$route.params.token,\r\n            password: \'\',\r\n            password_confirmation: \'\',\r\n            showErrorMessage: false,\r\n            showSuccessMessage: false,\r\n            email: \'\',\r\n            message: \'\',\r\n            errors: \'\'\r\n        }\r\n    },\r\n    methods: {\r\n        resetPassword() {\r\n            let self = this;\r\n            self.errors = \'\';\r\n            self.message = \'\';\r\n            self.showErrorMessage = false;\r\n            self.showSuccessMessage = false;\r\n\r\n            axios.post(process.env.MIX_APP_URL+\'/api/password/reset\', {\r\n                token: self.token,\r\n                email: self.email,\r\n                password: self.password,\r\n                password_confirmation: self.password_confirmation\r\n            }).then(function (response) {\r\n                self.message = response.data.message;\r\n                self.showSuccessMessage = true;\r\n\r\n                if(response.data.errors)\r\n                    self.errors = response.data.errors;\r\n                else\r\n                {\r\n                    self.password = \'\';\r\n                    self.password_confirmation = \'\';\r\n                    self.email = \'\';\r\n                }\r\n\r\n                this.timerMessageHide();\r\n            })\r\n            .catch(error => {\r\n                if(error.response)\r\n                {\r\n                    self.message = error.response.data.message;\r\n                    self.showErrorMessage = true;\r\n                    if(error.response.data.errors)\r\n                    {\r\n                        self.errors = error.response.data.errors;\r\n                    }\r\n                }\r\n                \r\n                this.timerMessageHide();\r\n            });\r\n        },\r\n\r\n        timerMessageHide() {\r\n            setTimeout(() => {\r\n                this.message = \'\';\r\n                this.showSuccessMessage = false;\r\n                this.showErrorMessage = false;\r\n            }, 2000);\r\n        }\r\n    }\r\n}\r\n<\/script>\r\n\r\n<style>\r\n.invalid-feedback { display: block;}\r\n.mt-10 { margin-top: 10px; }\r\n.form-control {\r\n    opacity: 1 !important;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const i=n},8893:(s,r,e)=>{e.r(r),e.d(r,{default:()=>c});var a=e(9669),o=e.n(a);const t={name:"PasswordResetToken",data:function(){return{token:this.$route.params.token,password:"",password_confirmation:"",showErrorMessage:!1,showSuccessMessage:!1,email:"",message:"",errors:""}},methods:{resetPassword:function(){var s=this,r=this;r.errors="",r.message="",r.showErrorMessage=!1,r.showSuccessMessage=!1,o().post("https://encompass.fncci.org/api/password/reset",{token:r.token,email:r.email,password:r.password,password_confirmation:r.password_confirmation}).then((function(s){r.message=s.data.message,r.showSuccessMessage=!0,s.data.errors?r.errors=s.data.errors:(r.password="",r.password_confirmation="",r.email=""),this.timerMessageHide()})).catch((function(e){e.response&&(r.message=e.response.data.message,r.showErrorMessage=!0,e.response.data.errors&&(r.errors=e.response.data.errors)),s.timerMessageHide()}))},timerMessageHide:function(){var s=this;setTimeout((function(){s.message="",s.showSuccessMessage=!1,s.showErrorMessage=!1}),2e3)}}};var n=e(3379),i=e.n(n),l=e(9427),d={insert:"head",singleton:!1};i()(l.Z,d);l.Z.locals;const c=(0,e(1900).Z)(t,(function(){var s=this,r=s.$createElement,e=s._self._c||r;return e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[s._v("Reset Password")]),s._v(" "),e("div",{staticClass:"card-body"},[s.showErrorMessage||s.showSuccessMessage?[e("div",{staticClass:"alert",class:s.showErrorMessage?"alert-danger":"alert-success",attrs:{role:"alert"},domProps:{innerHTML:s._s(s.message)}})]:s._e(),s._v(" "),e("form",{attrs:{method:"POST"},on:{submit:function(r){return r.preventDefault(),s.resetPassword.apply(null,arguments)}}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[s._v("E-Mail Address")]),s._v(" "),e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"form-control",class:s.errors.length&&s.errors.email.length?"is-invalid":"",attrs:{id:"email",type:"email",name:"email",required:"",autocomplete:"email",autofocus:""},domProps:{value:s.email},on:{input:function(r){r.target.composing||(s.email=r.target.value)}}}),s._v(" "),Object.keys(s.errors).length?e("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[e("strong",[s._v(s._s(s.errors.email))])]):s._e()])]),s._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[s._v("Password")]),s._v(" "),e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",class:s.errors.length&&s.errors.password.length?"is-invalid":"",attrs:{id:"password",type:"password",name:"password",required:"",autocomplete:"new-password"},domProps:{value:s.password},on:{input:function(r){r.target.composing||(s.password=r.target.value)}}})])]),s._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password-confirm"}},[s._v("Confirm Password")]),s._v(" "),e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",attrs:{id:"password-confirm",type:"password",name:"password_confirmation",required:"",autocomplete:"new-password"},domProps:{value:s.password_confirmation},on:{input:function(r){r.target.composing||(s.password_confirmation=r.target.value)}}}),s._v(" "),Object.keys(s.errors).length?e("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[e("strong",[s._v(s._s(s.errors.password))])]):s._e()])]),s._v(" "),s._m(0)])],2)])])])])}),[function(){var s=this,r=s.$createElement,e=s._self._c||r;return e("div",{staticClass:"form-group row mb-0 mt-10"},[e("div",{staticClass:"col-md-6 offset-md-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[s._v("Reset Password")])])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=893.js.map