"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[925],{5925:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(9669),r=s.n(a);const i={name:"EditUser",props:{},data:function(){return{rootUrl:"https://encompass.fncci.org",errors:[],user:{name:"",email:"",phone:"",address:"",password:"",password_confirmation:"",role:"3",mobile:"",avatar:"",username:"",bio:"",website:"",user_type:"admin"}}},methods:{goBack:function(){this.$router.replace({path:"/admin/users"})},register:function(){var e=this,t=new FormData;for(var s in e.user)"avatar"!=s&&t.append(s,e.user[s]);t.append("avatar",e.user.avatar),t.append("_method","PUT"),$(".btn-submit").attr("disabled","disabled"),$(".btn-submit").html("Submitting..."),r().post("https://encompass.fncci.org/api/users/"+e.$route.params.id,t,{headers:{Authorization:"Bearer "+localStorage.getItem("api_token"),"Content-Type":"multipart/form-data"}}).then((function(t){$(".btn-submit").removeAttr("disabled"),$(".btn-submit").html("Submit"),t.data.errors&&(e.errors=t.data.errors),t.data.status&&"success"==t.data.status&&e.$router.push({path:"/admin/users"})})).catch((function(t){$(".btn-submit").removeAttr("disabled"),$(".btn-submit").html("Submit"),t.response&&t.response.data.errors&&(e.errors=t.response.data.errors)}))},handleUserImageUpload:function(e){this.user.avatar=e.target.files[0];var t=new FileReader;t.readAsDataURL(this.$refs.avatar.files[0]),t.onload=function(e){$("#imagePreview").css("background-image","url("+e.target.result+")"),$("#imagePreview").hide(),$("#imagePreview").fadeIn(650)}}},mounted:function(){var e=this;r().get("https://encompass.fncci.org/api/users/"+e.$route.params.id,{headers:{Authorization:"Bearer "+localStorage.getItem("api_token")}}).then((function(t){t.data.user&&(e.user=t.data.user,e.user.role=t.data.role,e.user.website="null"!=t.data.user.website?t.data.user.website:"",e.user.bio="null"!=t.data.user.bio?t.data.user.bio:"")})).catch((function(e){console.log(e.response)}))},watch:{}};const l=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-detail"},[e._m(0),e._v(" "),s("form",{attrs:{id:"register-user"},on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[s("div",{staticClass:"row create"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row mb-3 align-items-center"},[e._m(1),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.first_name,expression:"user.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"first_name",name:"first_name",required:""},domProps:{value:e.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_name",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.first_name))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(2),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.middle_name,expression:"user.middle_name"}],staticClass:"form-control",attrs:{type:"text",id:"middle_name",name:"middle_name"},domProps:{value:e.user.middle_name},on:{input:function(t){t.target.composing||e.$set(e.user,"middle_name",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.middle_name))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(3),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"last_name",name:"last_name",required:""},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.last_name))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(4),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",name:"username",required:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.username))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(5),e._v(" "),s("div",{staticClass:"col-7"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.gender,expression:"user.gender"}],staticClass:"form-select",attrs:{"aria-label":"Select Gender",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.user,"gender",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:""}},[e._v("- Select Gender -")]),e._v(" "),s("option",{attrs:{value:"male"}},[e._v("Male")]),e._v(" "),s("option",{attrs:{value:"female"}},[e._v("Female")]),e._v(" "),s("option",{attrs:{value:"other"}},[e._v("Other")])])])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(6),e._v(" "),s("div",{staticClass:"col-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.email))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(7),e._v(" "),s("div",{staticClass:"col-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.mobile,expression:"user.mobile"}],staticClass:"form-control",attrs:{type:"number",id:"mobile",name:"mobile",required:""},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.mobile))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3"},[e._m(8),e._v(" "),s("div",{staticClass:"col-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.address,expression:"user.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",name:"address",required:""},domProps:{value:e.user.address},on:{input:function(t){t.target.composing||e.$set(e.user,"address",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.address))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(9),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.website,expression:"user.website"}],staticClass:"form-control",attrs:{type:"text",id:"website",name:"website"},domProps:{value:e.user.website},on:{input:function(t){t.target.composing||e.$set(e.user,"website",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row mb-3"},[e._m(10),e._v(" "),s("div",{staticClass:"col-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user.bio,expression:"user.bio"}],staticClass:"form-control",attrs:{rows:"6",id:"bio",name:"bio"},domProps:{value:e.user.bio},on:{input:function(t){t.target.composing||e.$set(e.user,"bio",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(11),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"********",autocomplete:"off",id:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._v(" "),Object.keys(e.errors).length?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.password))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(12),e._v(" "),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password",placeholder:"********",autocomplete:"off",id:"password_confirmation",name:"password_confirmation"},domProps:{value:e.user.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.user,"password_confirmation",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row mb-3 align-items-center"},[e._m(13),e._v(" "),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.user_type,expression:"user.user_type"}],staticClass:"form-select",attrs:{"aria-label":"Select User Type",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.user,"user_type",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:""}},[e._v("- Select User Type -")]),e._v(" "),s("option",{attrs:{value:"user"}},[e._v("Normal Admin")]),e._v(" "),s("option",{attrs:{value:"admin"}},[e._v("Admin")]),e._v(" "),s("option",{attrs:{value:"superadmin"}},[e._v("Super Admin")])])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 offset-3"},[s("button",{staticClass:"btn btn-primary btn-submit",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.goBack}},[e._v("Back")])])])])])]),e._v(" "),s("div",{staticClass:"col-3"},[s("div",{staticClass:"card"},[e._m(14),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"avatar-upload"},[s("div",{staticClass:"avatar-edit"},[s("input",{ref:"avatar",attrs:{type:"file",id:"imageUpload",name:"avatar",accept:"image/x-png, image/gif, image/jpeg"},on:{change:e.handleUserImageUpload}}),e._v(" "),s("label",{attrs:{for:"imageUpload"}})]),e._v(" "),s("div",{staticClass:"avatar-preview"},[e.user.avatar?s("div",{style:"background-image: url('"+e.rootUrl+"/storage/"+e.user.avatar+"');",attrs:{id:"imagePreview"}}):e._e()])])])])])])])])])])}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-title-box"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",{staticClass:"page-title"},[e._v("Edit User")]),e._v(" "),s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"/admin/dashboard"}},[e._v("Dashboard")])]),e._v(" "),s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"javascript:void(0);"}},[e._v("User")])]),e._v(" "),s("li",{staticClass:"breadcrumb-item active"},[e._v("Edit")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"first_name"}},[e._v("First Name "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"middle_name"}},[e._v("Middle Name")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"last_name"}},[e._v("Last Name "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"username"}},[e._v("Username "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"gender"}},[e._v("Gender "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"mobile"}},[e._v("Mobile No. "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"address"}},[e._v("Address "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"website"}},[e._v("Website")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"bio"}},[e._v("User Bio")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"password"}},[e._v("Password "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"password_confirmation"}},[e._v("Confirm Password "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"form-label",attrs:{for:"role"}},[e._v("User Type "),s("span",{staticClass:"text-danger form-text"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card-header bg-default text-light"},[s("h2",[e._v("User Profile")])])}],!1,null,"2aff58d0",null).exports}}]);
//# sourceMappingURL=925.js.map